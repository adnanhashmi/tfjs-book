<html>
    <head>
        <title>Chapter 6</title>
        <!-- Add reference to styles -->
        <link rel="stylesheet" href="../../css/style.css">

        <!-- Import TensorFlow.js -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>        
        <!-- Add reference to page script file -->
        <script src="Listing-6-4b.html.js"></script>
    </head>
    <body> 
      <form>
         <h1>Apress Machine Learning with TensorFlow.js</h1>
         <h2>Listing 6-4b</h2>
         <pre>
// Convert image to tensor and perform operations
function convertImageToTensor() {
    let img = document.getElementById('image-element');

    let tensorData = tf.browser.fromPixels(img, 4)  // covert/use 4 channels
        .resizeNearestNeighbor([100, 100])          // change image size
        .expandDims()                               // expand tensor rank
        .toFloat()                                  // cast to float32
        .reverse();                                 // reverse the tensor
    alert(tensorData);                              // display tensor in alert dialog
}    
         </pre>
         <img id="image-element" src="Listing-6-4b.jpg" width="400" height="336" />
         <br />
         <label>Source: <a href="https://inamarts.webs.com/">Truck Art in Lahore</a> </label>
         <p id="message"></p>
         <input type="button" value="Click to Execute Code" onclick="javascript: convertImageToTensor();  document.getElementById('message').innerHTML = 'Code executed successfully.';" />
    </form>
    </body>
</html>